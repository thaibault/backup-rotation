'use strict';
!function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require('jQuery-scrollTo'),require('jQuery-spin'),require("babel-runtime/core-js/get-iterator"),require("babel-runtime/core-js/object/get-prototype-of"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-runtime/helpers/get"),require("babel-runtime/helpers/inherits"),require("babel-runtime/helpers/possibleConstructorReturn"),require("clientnode"),require("internationalisation")):"function"==typeof define&&define.amd?define("website-utilities",["$.fn.scrollTo","$.fn.spin","babel-runtime/core-js/get-iterator","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/get","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","clientnode","internationalisation"],t):"object"==typeof exports?exports["website-utilities"]=t(require('jQuery-scrollTo'),require('jQuery-spin'),require("babel-runtime/core-js/get-iterator"),require("babel-runtime/core-js/object/get-prototype-of"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-runtime/helpers/get"),require("babel-runtime/helpers/inherits"),require("babel-runtime/helpers/possibleConstructorReturn"),require("clientnode"),require("internationalisation")):o["website-utilities"]=t(o["$.fn.scrollTo"],o["$.fn.spin"],o["babel-runtime/core-js/get-iterator"],o["babel-runtime/core-js/object/get-prototype-of"],o["babel-runtime/helpers/classCallCheck"],o["babel-runtime/helpers/createClass"],o["babel-runtime/helpers/get"],o["babel-runtime/helpers/inherits"],o["babel-runtime/helpers/possibleConstructorReturn"],o.clientnode,o.internationalisation)}(this,function(o,t,e,i,n,s,r,a,l,c,d){return function(o){function t(i){if(e[i])return e[i].exports;var n=e[i]={exports:{},id:i,loaded:!1};return o[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var e={};return t.m=o,t.c=e,t.p="",t(0)}([function(o,t,e){e(2),o.exports=e(1)},function(o,t,e){"use strict";function i(o){return o&&o.__esModule?o:{"default":o}}Object.defineProperty(t,"__esModule",{value:!0}),t.$=void 0;var n=e(5),s=i(n),r=e(6),a=i(r),l=e(7),c=i(l),d=e(8),u=i(d),h=e(11),p=i(h),m=e(9),g=i(m),w=e(10),v=i(w),f=e(12),b=e(13);i(b);e(3),e(4);var y=t.$=f.$,_=function(o){function t(){return(0,c["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,a["default"])(t)).apply(this,arguments))}return(0,v["default"])(t,o),(0,u["default"])(t,[{key:"initialize",value:function(){var o=this,e=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],i=1>=arguments.length||void 0===arguments[1]?{activateLanguageSupport:!0,additionalPageLoadingTimeInMilliseconds:0,domain:"auto",domNode:{mediaQueryIndicator:'<div class="media-query-indicator">',top:"header",scrollToTopButton:'a[href="#top"]',startUpAnimationClassPrefix:".website-start-up-animation-number-",windowLoadingCover:".website-window-loading-cover",windowLoadingSpinner:".website-window-loading-cover > div"},domNodeSelectorPrefix:"body.{1}",knownScrollEventNames:"scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",language:{},mediaQueryClassNameIndicator:[["extraSmall","xs"],["small","sm"],["medium","md"],["large","lg"]],onViewportMovesToTop:t.noop,onViewportMovesAwayFromTop:t.noop,onChangeToLargeMode:t.noop,onChangeToMediumMode:t.noop,onChangeToSmallMode:t.noop,onChangeToExtraSmallMode:t.noop,onChangeMediaQueryMode:t.noop,onSwitchSection:t.noop,onStartUpAnimationComplete:t.noop,startUpAnimationElementDelayInMiliseconds:100,startUpShowAnimation:[{opacity:1},{}],startUpHide:{opacity:0},switchToManualScrollingIndicator:function(o){return 0<o.which||"mousedown"===o.type||"mousewheel"===o.type||"touchmove"===o.type},scrollToTop:{inLinearTime:!1,options:{duration:"normal"},button:{slideDistanceInPixel:30,showAnimation:{duration:"normal"},hideAnimation:{duration:"normal"}}},trackingCode:null,windowLoadingCoverHideAnimation:[{opacity:0},{}],windowLoadingSpinner:{lines:9,length:23,width:11,radius:40,corners:1,rotate:75,color:"#000",speed:1.1,trail:58,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},windowLoadedTimeoutAfterDocumentLoadedInMilliseconds:2e3}:arguments[1],n=!(2>=arguments.length||void 0===arguments[2])&&arguments[2],s=3>=arguments.length||void 0===arguments[3]?null:arguments[3],r=!(4>=arguments.length||void 0===arguments[4])&&arguments[4],l=5>=arguments.length||void 0===arguments[5]?"":arguments[5],c=6>=arguments.length||void 0===arguments[6]?null:arguments[6],d=7>=arguments.length||void 0===arguments[7]?{initial:"\n                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new window.Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');window.ga('create', '{1}', '{2}');\n                window.ga('set', 'anonymizeIp', true);\n                window.ga('send', 'pageview', {page: '{3}'});\n            ",sectionSwitch:"window.ga('send', 'pageview', {page: '{1}'});",event:"window.ga(\n                'send', 'event', eventCategory, eventAction, eventLabel,\n                eventValue, eventData);\n            "}:arguments[7];return this._parentOptions=i,this.startUpAnimationIsComplete=n,this.viewportIsOnTop=r,this.currentMediaQueryMode=l,this.languageHandler=c,this._analyticsCode=d,s?this.currentSectionName=s:"location"in y.global&&y.global.location.hash?this.currentSectionName=y.global.location.hash.substring("#".length):this.currenSectionName="home",this._onViewportMovesToTop=this.constructor.debounce(this.getMethod(this._onViewportMovesToTop)),this._onViewportMovesAwayFromTop=this.constructor.debounce(this.getMethod(this._onViewportMovesAwayFromTop)),this._options=this.constructor.extendObject(!0,{},this._parentOptions,this._options),(0,g["default"])(t.prototype.__proto__||(0,a["default"])(t.prototype),"initialize",this).call(this,e),this.$domNodes=this.grabDomNode(this._options.domNode),this.disableScrolling()._options.windowLoadingCoverHideAnimation[1].always=this.getMethod(this._handleStartUpEffects),this.$domNodes.windowLoadingSpinner.spin(this._options.windowLoadingSpinner),this._bindScrollEvents().$domNodes.parent.show(),"window"in this.$domNodes&&function(){var t=function(){o.windowLoaded||(o.windowLoaded=!0,o._removeLoadingCover())};y(function(){return setTimeout(t,o._options.windowLoadedTimeoutAfterDocumentLoadedInMilliseconds)}),o.on(o.$domNodes.window,"load",t)}(),this._addNavigationEvents()._addMediaQueryChangeEvents()._triggerWindowResizeEvents()._handleAnalyticsInitialisation(),this._options.language.logging||(this._options.language.logging=this._options.logging),this._options.activateLanguageSupport&&!this.languageHandler&&(this.languageHandler=y.Language(this._options.language)),this}},{key:"scrollToTop",value:function(){var o=0>=arguments.length||void 0===arguments[0]?t.noop:arguments[0];if(!("document"in y.global))return this;if(this._options.scrollToTop.options.onAfter=o,Object.defineProperty(y.global.document,"body",{value:y("body")[0]}),this._options.scrollToTop.inLinearTime){var e=this.$domNodes.window.scrollTop();this._options.scrollToTop.options.duration=e/4,this.$domNodes.window.scrollTo({top:"-="+e,left:"+=0"},this._options.scrollToTop.options)}else y(window).scrollTo({top:0,left:0},this._options.scrollToTop.options);return this}},{key:"disableScrolling",value:function(){return this.$domNodes.parent.addClass("disable-scrolling").on("touchmove",function(o){return o.preventDefault()}),this}},{key:"enableScrolling",value:function(){return this.off(this.$domNodes.parent.removeClass("disable-scrolling","touchmove")),this}},{key:"triggerAnalyticsEvent",value:function(){if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in y.global&&"localhost"!==y.global.location.hostname){this.debug('Run analytics code: "#{this._analyticsCode.event}" with arguments:'),this.debug(arguments);try{new Function("eventCategory","eventAction","eventLabel","eventData","eventValue",this._analyticsCode.event).apply(this,arguments)}catch(o){this.warn("Problem in google analytics event code snippet: {1}",o)}}return this}},{key:"_onViewportMovesToTop",value:function(){var o=this;return"hidden"===this.$domNodes.scrollToTopButton.css("visibility")?this.$domNodes.scrollToTopButton.css("opacity",0):(this._options.scrollToTop.button.hideAnimation.always=function(){return o.$domNodes.scrollToTopButton.css({bottom:"-="+o._options.scrollToTop.button.slideDistanceInPixel,display:"none"})},this.$domNodes.scrollToTopButton.finish().animate({bottom:"+="+this._options.scrollToTop.button.slideDistanceInPixel,opacity:0},this._options.scrollToTop.button.hideAnimation)),this}},{key:"_onViewportMovesAwayFromTop",value:function(){return"hidden"===this.$domNodes.scrollToTopButton.css("visibility")?this.$domNodes.scrollToTopButton.css("opacity",1):this.$domNodes.scrollToTopButton.finish().css({bottom:"+="+this._options.scrollToTop.button.slideDistanceInPixel,display:"block",opacity:0}).animate({bottom:"-="+this._options.scrollToTop.button.slideDistanceInPixel,queue:!1,opacity:1},this._options.scrollToTop.button.showAnimation),this}},{key:"_onChangeMediaQueryMode",value:function(o,t){return this}},{key:"_onChangeToLargeMode",value:function(o,t){return this}},{key:"_onChangeToMediumMode",value:function(o,t){return this}},{key:"_onChangeToSmallMode",value:function(o,t){return this}},{key:"_onChangeToExtraSmallMode",value:function(o,t){return this}},{key:"_onSwitchSection",value:function(o){if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in y.global&&"localhost"!==y.global.location.hostname&&this.currentSectionName!==o){this.currentSectionName=o,this.debug('Run analytics code: "'+this._analyticsCode.sectionSwitch+'"',this.currentSectionName);try{new Function(this.constructor.stringFormat(this._analyticsCode.sectionSwitch,this.currentSectionName))()}catch(t){this.warn("Problem in analytics section switch code snippet: {1}",t)}}return this}},{key:"_onStartUpAnimationComplete",value:function(){return this.startUpAnimationIsComplete=!0,this}},{key:"_addMediaQueryChangeEvents",value:function(){return this.on(this.$domNodes.window,"resize",this.getMethod(this._triggerWindowResizeEvents)),this}},{key:"_triggerWindowResizeEvents",value:function(){var o=!0,t=!1,e=void 0;try{for(var i,n=(0,s["default"])(this._options.mediaQueryClassNameIndicator);!(o=(i=n.next()).done);o=!0){var r=i.value;this.$domNodes.mediaQueryIndicator.prependTo(this.$domNodes.parent).addClass("hidden-"+r[1]),this.$domNodes.mediaQueryIndicator.is(":hidden")&&r[0]!==this.currentMediaQueryMode&&(this.fireEvent.apply(this,["changeMediaQueryMode",!1,this,this.currentMediaQueryMode,r[0]].concat(this.constructor.arrayMake(arguments))),this.fireEvent.apply(this,[this.constructor.stringFormat("changeTo{1}Mode",this.constructor.stringCapitalize(r[0])),!1,this,this.currentMediaQueryMode,r[0]].concat(this.constructor.arrayMake(arguments))),this.currentMediaQueryMode=r[0]),this.$domNodes.mediaQueryIndicator.removeClass("hidden-"+r[1])}}catch(a){t=!0,e=a}finally{try{!o&&n["return"]&&n["return"]()}finally{if(t)throw e}}return this}},{key:"_bindScrollEvents",value:function(){var o=this,t=arguments;if(!("window"in this.$domNodes))return this;var e=y("body, html").add(this.$domNodes.window);return e.on(this._options.knownScrollEventNames,function(t){o._options.switchToManualScrollingIndicator(t)&&e.stop(!0)}),this.on(this.$domNodes.window,"scroll",function(){o.$domNodes.window.scrollTop()?o.viewportIsOnTop&&(o.viewportIsOnTop=!1,o.fireEvent.apply(o,["viewportMovesAwayFromTop",!1,o].concat(o.constructor.arrayMake(t)))):!o.viewportIsOnTop&&(o.viewportIsOnTop=!0,o.fireEvent.apply(o,["viewportMovesToTop",!1,o].concat(o.constructor.arrayMake(t))))}),this.$domNodes.window.scrollTop()?(this.viewportIsOnTop=!1,this.fireEvent.apply(this,["viewportMovesAwayFromTop",!1,this].concat(this.constructor.arrayMake(arguments)))):(this.viewportIsOnTop=!0,this.fireEvent.apply(this,["viewportMovesToTop",!1,this].concat(this.constructor.arrayMake(arguments)))),this}},{key:"_removeLoadingCover",value:function(){var o=this;return setTimeout(function(){y(o.constructor.stringFormat('[class^="{1}"], [class*=" {1}"]',o.sliceDomNodeSelectorPrefix(o._options.domNode.startUpAnimationClassPrefix).substr(1))).css(o._options.startUpHide),o.$domNodes.windowLoadingCover.length?o.enableScrolling().$domNodes.windowLoadingCover.animate.apply(o.$domNodes.windowLoadingCover,o._options.windowLoadingCoverHideAnimation):o._options.windowLoadingCoverHideAnimation[1].always()},this._options.additionalPageLoadingTimeInMilliseconds),this}},{key:"_handleStartUpEffects",value:function(o){var t=this;return this.$domNodes.windowLoadingCover.hide(),this.$domNodes.windowLoadingSpinner.spin(!1),this.constructor.isNumeric(o)||(o=1),y(this.constructor.stringFormat('[class^="{1}"], [class*=" {1}"]',this.sliceDomNodeSelectorPrefix(this._options.domNode.startUpAnimationClassPrefix).substr(1))).length?setTimeout(function(){var e=!1;t._options.startUpShowAnimation[1].always=function(){e&&t.fireEvent("startUpAnimationComplete")};var i=y(t._options.domNode.startUpAnimationClassPrefix+o);i.animate.apply(i,t._options.startUpShowAnimation),y(t._options.domNode.startUpAnimationClassPrefix+(o+1)).length?t._handleStartUpEffects(o+1):e=!0},this._options.startUpAnimationElementDelayInMiliseconds):this.fireEvent("startUpAnimationComplete"),this}},{key:"_addNavigationEvents",value:function(){var o=this;return"addEventListener"in y.global&&y.global.addEventListener("hashchange",function(){o.startUpAnimationIsComplete&&o.fireEvent("switchSection",!1,o,location.hash.substring("#".length))},!1),this._handleScrollToTopButton()}},{key:"_handleScrollToTopButton",value:function(){var o=this;return this.on(this.$domNodes.scrollToTopButton,"click",function(t){t.preventDefault(),o.scrollToTop()}),this}},{key:"_handleAnalyticsInitialisation",value:function(){var o=this;if(this._options.trackingCode&&"__none__"!==this._options.trackingCode&&"location"in y.global&&"localhost"!==y.global.location.hostname){this.debug('Run analytics code: "'+this._analyticsCode.initial+'"',this._options.trackingCode,this._options.domain,this.currentSectionName);try{new Function(this.constructor.stringFormat(this._analyticsCode.initial,this._options.trackingCode,this._options.domain,this.currentSectionName))()}catch(t){this.warn("Problem in analytics initial code snippet: {1}",t)}this.on(this.$domNodes.parent.find("a, button"),"click",function(t){var e=y(t.target);o.triggerAnalyticsEvent(o.currentSectionName,"click",e.text(),t.data||{},e.attr("website-analytics-value")||1)})}return this}}]),t}(y.Tools["class"]);_._name="Website",t["default"]=_,y.Website=function(){return y.Tools().controller(_,arguments)},y.Website["class"]=_},function(o,t){},function(t,e){t.exports=o},function(o,e){o.exports=t},function(o,t){o.exports=e},function(o,t){o.exports=i},function(o,t){o.exports=n},function(o,t){o.exports=s},function(o,t){o.exports=r},function(o,t){o.exports=a},function(o,t){o.exports=l},function(o,t){o.exports=c},function(o,t){o.exports=d}])});